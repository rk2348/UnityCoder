<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>掲示板 | Unity Learning</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* 簡易モーダルスタイル */
    #threadModal {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 2000;
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      width: 90%;
      max-width: 500px;
    }
  </style>
</head>
<body>

  <header>
    <div class="container header-inner">
      <div class="logo"><a href="index.html">Unity<span>Learning</span></a></div>
      <nav>
        <a href="index.html">トップ</a>
        <a href="problemlist.html">問題</a>
        <a href="courses.html">コース</a>
        <a href="ranking.html">ランキング</a>
        <a href="bbs.html" class="active">掲示板</a>
      </nav>
      <div class="user-actions">
        <a href="login.html" class="btn-login">ログイン</a>
        <a href="signup.html" class="btn-signup">新規登録</a>
      </div>
    </div>
  </header>

  <div class="container main-wrapper">
    <main class="main-col">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h2>ユーザー掲示板</h2>
        <button id="newThreadBtn" class="btn-primary">新規スレッド作成</button>
      </div>

      <div class="filter-box">
        <input type="text" id="bbsSearchInput" class="form-control" placeholder="キーワードで検索" style="flex:2;">
        <select id="bbsCategoryFilter" class="form-control" style="flex:1;">
          <option value="all">すべてのカテゴリ</option>
          <option value="question">質問</option>
          <option value="chat">雑談</option>
          <option value="bug">バグ報告</option>
        </select>
        <button id="bbsSearchBtn" class="btn-primary">検索</button>
      </div>

      <div class="panel">
        <div class="table-wrapper">
          <table id="bbsTable"> <thead>
              <tr>
                <th width="400">タイトル</th>
                <th width="100">カテゴリ</th>
                <th width="120">投稿者</th>
                <th width="150">投稿日時</th> </tr>
            </thead>
            <tbody>
              <tr><td colspan="4">読み込み中...</td></tr>
            </tbody>
          </table>
        </div>
      </div>
      
      <div class="pagination">
        <span style="color:#888; font-size:0.9rem;">※最新20件を表示中</span>
      </div>

    </main>

    <aside class="side-col">
      <div class="panel">
        <div class="panel-header">ステータス</div>
        <div class="panel-body user-box">
          <p>ログインしていません</p>
        </div>
      </div>
      
      <div class="panel">
        <div class="panel-header">注意事項</div>
        <div class="panel-body">
          <ul style="font-size:0.85rem; padding-left:20px; list-style:disc;">
            <li>誹謗中傷は禁止です。</li>
            <li>コードを貼る際はコードブロックを使用してください。</li>
            <li>質問する前に過去ログを検索しましょう。</li>
          </ul>
        </div>
      </div>
    </aside>
  </div>

  <footer>
    <div class="container">
      <p>© 2025 Unity Learning Project.</p>
    </div>
  </footer>

  <div id="threadModal">
    <div class="modal-content">
      <h3 style="margin-top:0;">新規スレッド作成</h3>
      <div class="form-group" style="margin-bottom:15px;">
        <label style="font-weight:bold; display:block; margin-bottom:5px;">タイトル</label>
        <input type="text" id="threadTitle" class="form-control" style="width:100%; box-sizing:border-box;" placeholder="例: Rigidbodyが動かない">
      </div>
      <div class="form-group" style="margin-bottom:15px;">
        <label style="font-weight:bold; display:block; margin-bottom:5px;">カテゴリ</label>
        <select id="threadCategory" class="form-control" style="width:100%;">
          <option value="question">質問</option>
          <option value="chat">雑談</option>
          <option value="bug">バグ報告</option>
        </select>
      </div>
      <div class="form-group" style="margin-bottom:20px;">
        <label style="font-weight:bold; display:block; margin-bottom:5px;">内容</label>
        <textarea id="threadContent" class="form-control" rows="5" style="width:100%; box-sizing:border-box;" placeholder="詳細を記入してください..."></textarea>
      </div>
      <div style="text-align:right;">
        <button id="cancelThreadBtn" class="form-control" style="cursor:pointer; background:#eee; border:none; padding:8px 16px; border-radius:4px; margin-right:10px;">キャンセル</button>
        <button id="submitThreadBtn" class="btn-primary">投稿する</button>
      </div>
    </div>
  </div>

  <script type="module" src="script.js"></script>
</body>
</html>