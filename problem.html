<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>問題一覧 | Unity学習サイト</title>
    <link rel="stylesheet" href="problem.css">
    
</head>
<body>
    <header>
        <div class="header-inner">
            <div class="logo">Unity学習サイト</div>
            <nav>
                <a href="index.html">ホーム</a>
                <a href="problems.html">問題一覧</a>
            </nav>
        </div>
    </header>

    <div class="container main-content">
        <h2>Unity C# 問題集</h2>
        <p>基礎から応用まで、コードを書いて覚えましょう。</p>

        <ul class="problem-list" id="problemListContainer">
            </ul>
    </div>

    <footer>
        <p>© 2025 Unity学習サイト</p>
    </footer>

    <script>
        // 問題データ（problem.jsと同じものを持たせるか、別ファイルで共通化が理想ですが、
        // ここでは簡易的にリスト表示用データとして定義します）
        const problemsData = [
            { id: 1, title: "Debug.Log で文字列出力", difficulty: "初級" },
            { id: 2, title: "変数の足し算", difficulty: "初級" },
            { id: 3, title: "浮動小数点数 (float) の定義と計算", difficulty: "初級" },
            { id: 4, title: "文字列と変数の連結", difficulty: "初級" },
            { id: 5, title: "if文による条件分岐", difficulty: "中級" }
        ];

        const listContainer = document.getElementById('problemListContainer');

        // ローカルストレージから「解決済みID」のリストを取得
        // (例: ["1", "3"] のような配列が保存されている想定)
        const solvedProblems = JSON.parse(localStorage.getItem('unity_solved_problems')) || [];

        problemsData.forEach(prob => {
            const isSolved = solvedProblems.includes(String(prob.id));
            
            const li = document.createElement('li');
            li.className = 'problem-item';
            
            li.innerHTML = `
                <div class="prob-info">
                    <h3>
                        <a href="problem.html?id=${prob.id}">問題${prob.id}: ${prob.title}</a>
                        <span class="badge" style="background:${prob.difficulty === '中級' ? '#FF9800' : '#4caf50'}">${prob.difficulty}</span>
                    </h3>
                    <div class="prob-meta">C# スクリプト基礎</div>
                </div>
                <div class="status-icon ${isSolved ? 'solved' : ''}">
                    ${isSolved ? '✔' : '−'}
                </div>
            `;
            listContainer.appendChild(li);
        });
    </script>
</body>
</html>